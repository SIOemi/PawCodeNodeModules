{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\d896422\\\\Documents\\\\hello\\\\paw_code\\\\src\\\\components\\\\incidencia\\\\incidencia.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IncidenciaHeader from './incidenciaHeader';\nimport DiscoUnidad from '../discoUnidad/discoUnidad';\nimport { AppContext } from '../../appProvider';\nimport { Paper, Typography, Button, Box, Hidden } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: \"relative\",\n    marginTop: 10,\n    marginBottom: 30,\n    clear: \"both\",\n    backgroundColor: '#e0e0e036',\n    borderRadius: 10,\n    paddingBottom: 5\n  },\n  simple_root: {\n    position: \"relative\",\n    clear: \"both\",\n    border: 0,\n    marginTop: 10\n  },\n  divider: {\n    backgroundColor: '#31abe226',\n    height: '2px',\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(4)\n  },\n  contenedor: {\n    padding: theme.spacing(2),\n    paddingLeft: 0,\n    margin: theme.spacing(2),\n    border: 0\n  },\n  simple_contenedor: {\n    padding: theme.spacing(2),\n    paddingLeft: 0,\n    marginBottom: theme.spacing(2),\n    border: 0\n  },\n  contenedorNominado: {\n    padding: theme.spacing(2),\n    margin: theme.spacing(2),\n    marginBottom: theme.spacing(0),\n    marginLeft: theme.spacing(0),\n    marginTop: 5,\n    paddingTop: theme.spacing(0),\n    border: 0\n  },\n  simple_contenedorNominado: {\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(0),\n    marginTop: theme.spacing(0),\n    marginLeft: theme.spacing(0),\n    paddingTop: 5,\n    border: 0\n  },\n  filtros: {\n    padding: theme.spacing(1),\n    marginLeft: theme.spacing(3),\n    display: 'flex'\n  },\n  solicitudSelector: {\n    width: \"180px\",\n    marginLeft: \"10px\",\n    textTransform: \"none\"\n  },\n  solicitudSelectorPC: {\n    marginLeft: \"10px\",\n    textTransform: \"none\"\n  },\n  solicitudNumero: {\n    marginLeft: \"10px\"\n  }\n}));\n\nconst Incidencia = props => {\n  _s();\n\n  const classes = useStyles();\n  const [verTodo, setVerTodo] = React.useState(true);\n\n  const toogleVerTodo = () => setVerTodo(!verTodo);\n\n  const [state] = React.useContext(AppContext);\n  const vistaCompacta = state.vistaCompacta;\n  const styleContenedor = props.vista_consultaDU || props.vista_consultaIncidencia || props.vista_consultaNominado ? classes.simple_root : classes.root;\n  const stylePaper = props.vista_consultaDU || props.vista_consultaIncidencia || props.vista_consultaNominado ? classes.simple_contenedor : classes.contenedor;\n  const stylePaperNominado = props.vista_consultaDU || props.vista_consultaIncidencia || props.vista_consultaNominado ? classes.simple_contenedorNominado : classes.contenedorNominado; //Obtengo la lista de solicitudes ordenadas y sin repetir\n\n  var listaSolicitudes = props.discosUnidad.concat(props.discosNominados).map(e => e.solicitud).filter(sol => sol !== \"0\");\n  listaSolicitudes = [...new Set(listaSolicitudes)]; //filtrar por solicitudes\n\n  const [solicitudSeleccionada, setSolicitudSeleccionada] = React.useState(0);\n  const discosUnidad = solicitudSeleccionada === 0 ? props.discosUnidad : props.discosUnidad.filter(e => e.solicitud === solicitudSeleccionada);\n  const discosNominados = solicitudSeleccionada === 0 ? props.discosNominados : props.discosNominados.filter(e => e.solicitud === solicitudSeleccionada);\n\n  const contenido = vistaCelular => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styleContenedor,\n      style: vistaCelular ? {\n        border: '1px solid #86868661'\n      } : {},\n      children: [!props.vista_consultaDU && !props.vista_consultaNominado ? /*#__PURE__*/_jsxDEV(IncidenciaHeader, {\n        incidencia: props.incidencia,\n        fecha: props.fecha,\n        descIncidencia: props.descIncidencia,\n        clic: toogleVerTodo,\n        verTodo: verTodo,\n        vista_consultaIncidencia: props.vista_consultaIncidencia\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"initial\",\n          style: {\n            marginLeft: \"10px\",\n            paddingTop: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Hidden, {\n            only: \"xs\",\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              alignItems: \"center\",\n              style: {\n                marginBottom: \"10px\"\n              },\n              children: listaSolicitudes.map(e => /*#__PURE__*/_jsxDEV(Button, {\n                className: classes.solicitudSelectorPC,\n                variant: solicitudSeleccionada == e ? \"contained\" : \"outlined\",\n                style: {\n                  marginTop: \"5px\"\n                },\n                color: \"default\",\n                onClick: solicitudSeleccionada === e ? () => setSolicitudSeleccionada(0) : () => setSolicitudSeleccionada(e),\n                endIcon: solicitudSeleccionada === e ? /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 57\n                }, this) : null,\n                children: [\"Solicitud \" + e + (props.solicitudesGEMA[e] ? \" |\" : \"\"), \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  className: classes.solicitudNumero,\n                  children: props.solicitudesGEMA[e]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 81\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 15\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Hidden, {\n            smUp: true,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              style: {\n                marginBottom: \"10px\"\n              },\n              children: listaSolicitudes.map(e => /*#__PURE__*/_jsxDEV(Button, {\n                className: classes.solicitudSelector,\n                variant: solicitudSeleccionada == e ? \"contained\" : \"outlined\",\n                style: {\n                  margin: \"5px\",\n                  width: \"90%\"\n                },\n                color: \"default\",\n                onClick: solicitudSeleccionada === e ? () => setSolicitudSeleccionada(0) : () => setSolicitudSeleccionada(e),\n                endIcon: solicitudSeleccionada === e ? /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 57\n                }, this) : null,\n                children: [\"Solicitud \" + e + (props.solicitudesGEMA[e] ? \" |\" : \"\"), \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  className: classes.solicitudNumero,\n                  children: props.solicitudesGEMA[e]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 80\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 15\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }, this), verTodo ? discosUnidad.map(du => {\n          return /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 0,\n            className: stylePaper,\n            style: {\n              borderRadius: 10,\n              backgroundColor: 'transparent'\n            },\n            variant: \"outlined\",\n            children: /*#__PURE__*/_jsxDEV(DiscoUnidad, { ...du,\n              incidencia: props.incidencia,\n              accionesDU: props.accionesDU,\n              accionesDT: props.accionesDT,\n              soloActivos: props.soloActivos,\n              todos: props.todos,\n              resaltadoFiltro: props.resaltadoFiltro\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)\n          }, du.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 21\n          }, this);\n        }) : null, (!vistaCompacta || !props.soloActivos) && discosNominados.length > 0 && verTodo ? /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 0,\n          className: stylePaperNominado,\n          style: {\n            borderRadius: 10,\n            backgroundColor: 'transparent'\n          },\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(DiscoUnidad, {\n            id: props.incidencia,\n            vista_consultaNominado: props.vista_consultaNominado,\n            discosTrabajos: discosNominados,\n            incidencia: props.incidencia,\n            accionesDT: props.accionesDT,\n            soloActivos: props.soloActivos,\n            resaltadoFiltro: props.resaltadoFiltro,\n            nominado: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, \"nom\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Hidden, {\n      only: \"xs\",\n      children: contenido(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Hidden, {\n      smUp: true,\n      children: contenido(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Incidencia, \"MICZ04Ns6wNhsdX+87yvGLvRjyw=\", false, function () {\n  return [useStyles];\n});\n\n_c = Incidencia;\nexport default Incidencia;\n\nvar _c;\n\n$RefreshReg$(_c, \"Incidencia\");","map":{"version":3,"sources":["C:/Users/d896422/Documents/hello/paw_code/src/components/incidencia/incidencia.js"],"names":["React","makeStyles","IncidenciaHeader","DiscoUnidad","AppContext","Paper","Typography","Button","Box","Hidden","CloseIcon","useStyles","theme","root","position","marginTop","marginBottom","clear","backgroundColor","borderRadius","paddingBottom","simple_root","border","divider","height","spacing","marginRight","contenedor","padding","paddingLeft","margin","simple_contenedor","contenedorNominado","marginLeft","paddingTop","simple_contenedorNominado","filtros","display","solicitudSelector","width","textTransform","solicitudSelectorPC","solicitudNumero","Incidencia","props","classes","verTodo","setVerTodo","useState","toogleVerTodo","state","useContext","vistaCompacta","styleContenedor","vista_consultaDU","vista_consultaIncidencia","vista_consultaNominado","stylePaper","stylePaperNominado","listaSolicitudes","discosUnidad","concat","discosNominados","map","e","solicitud","filter","sol","Set","solicitudSeleccionada","setSolicitudSeleccionada","contenido","vistaCelular","incidencia","fecha","descIncidencia","solicitudesGEMA","du","accionesDU","accionesDT","soloActivos","todos","resaltadoFiltro","id","length"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport IncidenciaHeader from './incidenciaHeader';\r\nimport DiscoUnidad from '../discoUnidad/discoUnidad';\r\nimport { AppContext } from '../../appProvider';\r\nimport { Paper, Typography, Button, Box, Hidden } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    position: \"relative\",\r\n    marginTop: 10,\r\n    marginBottom: 30,\r\n    clear: \"both\",\r\n    backgroundColor: '#e0e0e036',\r\n    borderRadius: 10,\r\n    paddingBottom: 5\r\n  },\r\n  simple_root: {\r\n    position: \"relative\",\r\n    clear: \"both\",\r\n    border: 0,\r\n    marginTop: 10,\r\n  },\r\n  divider: {\r\n    backgroundColor: '#31abe226',\r\n    height: '2px',\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(4)\r\n  },\r\n  contenedor: {\r\n    padding: theme.spacing(2),\r\n    paddingLeft: 0,\r\n    margin: theme.spacing(2),\r\n    border: 0,\r\n  },\r\n  simple_contenedor: {\r\n    padding: theme.spacing(2),\r\n       paddingLeft: 0,\r\n    marginBottom: theme.spacing(2),\r\n    border: 0,\r\n  },\r\n  contenedorNominado: {\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(2),\r\n    marginBottom: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n    marginTop: 5,\r\n    paddingTop: theme.spacing(0),\r\n    border: 0,\r\n  },\r\n  simple_contenedorNominado: {\r\n    padding: theme.spacing(2),\r\n    marginBottom: theme.spacing(0),\r\n    marginTop: theme.spacing(0),\r\n    marginLeft: theme.spacing(0),\r\n    paddingTop: 5,\r\n    border: 0,\r\n  },\r\n  filtros: {\r\n    padding: theme.spacing(1),\r\n    marginLeft: theme.spacing(3),\r\n    display: 'flex'\r\n  },\r\n  solicitudSelector: {\r\n    width: \"180px\",\r\n    marginLeft: \"10px\",\r\n    textTransform: \"none\"\r\n  },\r\n  solicitudSelectorPC: {\r\n    marginLeft: \"10px\",\r\n    textTransform: \"none\"\r\n  },\r\n  solicitudNumero: {\r\n    marginLeft: \"10px\",\r\n  }\r\n}));\r\n\r\n\r\n\r\nconst Incidencia = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const [verTodo, setVerTodo] = React.useState(true);\r\n  const toogleVerTodo = () => setVerTodo(!verTodo);\r\n\r\n  const [state] = React.useContext(AppContext);\r\n  const vistaCompacta = state.vistaCompacta;\r\n\r\n  const styleContenedor = props.vista_consultaDU || props.vista_consultaIncidencia || props.vista_consultaNominado\r\n    ? classes.simple_root\r\n    : classes.root;\r\n\r\n  const stylePaper = props.vista_consultaDU || props.vista_consultaIncidencia || props.vista_consultaNominado\r\n    ? classes.simple_contenedor\r\n    : classes.contenedor;\r\n\r\n  const stylePaperNominado = props.vista_consultaDU || props.vista_consultaIncidencia || props.vista_consultaNominado\r\n    ? classes.simple_contenedorNominado\r\n    : classes.contenedorNominado;\r\n\r\n  //Obtengo la lista de solicitudes ordenadas y sin repetir\r\n  var listaSolicitudes =\r\n    props.discosUnidad\r\n      .concat(props.discosNominados)\r\n      .map(e => e.solicitud)\r\n      .filter(sol => sol !== \"0\");\r\n\r\n  listaSolicitudes = [... new Set(listaSolicitudes)];\r\n\r\n\r\n  //filtrar por solicitudes\r\n  const [solicitudSeleccionada, setSolicitudSeleccionada] = React.useState(0);\r\n\r\n  const discosUnidad = (solicitudSeleccionada===0) \r\n    ? props.discosUnidad \r\n    : props.discosUnidad.filter(e => e.solicitud === solicitudSeleccionada);\r\n\r\n  const discosNominados = (solicitudSeleccionada===0)  \r\n    ? props.discosNominados\r\n    : props.discosNominados.filter(e => e.solicitud === solicitudSeleccionada);\r\n\r\n\r\n  const contenido = (vistaCelular) => {\r\n    return (\r\n      <div className={styleContenedor} style={vistaCelular ? {border: '1px solid #86868661'} : {}}>\r\n\r\n      { !props.vista_consultaDU && !props.vista_consultaNominado ?\r\n        <IncidenciaHeader\r\n          incidencia={props.incidencia}\r\n          fecha={props.fecha}\r\n          descIncidencia={props.descIncidencia}\r\n          clic={toogleVerTodo}\r\n          verTodo={verTodo}\r\n          vista_consultaIncidencia={props.vista_consultaIncidencia}\r\n        />\r\n        : null}\r\n\r\n\r\n      <div>\r\n        <Typography variant=\"h6\" color=\"initial\" style={{marginLeft:\"10px\", paddingTop: \"10px\"}} >\r\n        \r\n        {/* PC */}\r\n        <Hidden only=\"xs\">\r\n          <Box display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\" style={{marginBottom: \"10px\"}}>\r\n            {listaSolicitudes.map(e =>\r\n              <Button\r\n                className = {classes.solicitudSelectorPC}\r\n                variant= {solicitudSeleccionada == e ? \"contained\" : \"outlined\"}\r\n                style={{marginTop: \"5px\"}}\r\n                color=\"default\"\r\n                onClick= {solicitudSeleccionada === e ? ()=>setSolicitudSeleccionada(0): ()=>setSolicitudSeleccionada(e)}\r\n                endIcon= {solicitudSeleccionada === e ? <CloseIcon/>: null}>\r\n                 {(\"Solicitud \" + e ) + (props.solicitudesGEMA[e] ? \" |\" : \"\")} <b className={classes.solicitudNumero}>{props.solicitudesGEMA[e]}</b> \r\n              </Button>\r\n            )}\r\n          </Box>\r\n        </Hidden>\r\n\r\n        {/* CELULAR */}\r\n        <Hidden smUp>\r\n          <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" style={{marginBottom: \"10px\"}}> \r\n            {listaSolicitudes.map(e =>\r\n              <Button\r\n                className = {classes.solicitudSelector}\r\n                variant= {solicitudSeleccionada == e ? \"contained\" : \"outlined\"}\r\n                style={{margin: \"5px\", width: \"90%\"}}\r\n                color=\"default\"\r\n                onClick= {solicitudSeleccionada === e ? ()=>setSolicitudSeleccionada(0): ()=>setSolicitudSeleccionada(e)}\r\n                endIcon= {solicitudSeleccionada === e ? <CloseIcon/>: null}>\r\n                {(\"Solicitud \" + e ) + (props.solicitudesGEMA[e] ? \" |\" : \"\")} <b className={classes.solicitudNumero}>{props.solicitudesGEMA[e]}</b> \r\n              </Button>\r\n            )}\r\n          </Box>\r\n        </Hidden>\r\n          \r\n        </Typography>\r\n        {(verTodo)\r\n          ? discosUnidad.map(du => {\r\n            return (<Paper\r\n              elevation={0} key={du.id}\r\n              className={stylePaper}\r\n              style={{ borderRadius: 10,backgroundColor: 'transparent' }} variant=\"outlined\">\r\n              <DiscoUnidad\r\n                {...du}\r\n                incidencia={props.incidencia}\r\n                accionesDU={props.accionesDU}\r\n                accionesDT={props.accionesDT}\r\n                soloActivos={props.soloActivos}\r\n                todos={props.todos}\r\n                resaltadoFiltro={props.resaltadoFiltro}\r\n              />\r\n            </Paper>)\r\n          })\r\n          : null\r\n        }\r\n\r\n        {((!vistaCompacta || !props.soloActivos) && (discosNominados.length > 0) && verTodo)\r\n          ? <Paper  elevation={0} key=\"nom\" className={stylePaperNominado} \r\n                    style={{ borderRadius: 10,backgroundColor: 'transparent' }} variant=\"outlined\"\r\n            >\r\n            <DiscoUnidad\r\n              id={props.incidencia}\r\n              vista_consultaNominado={props.vista_consultaNominado}\r\n              discosTrabajos={discosNominados}\r\n              incidencia={props.incidencia}\r\n              accionesDT={props.accionesDT}\r\n              soloActivos={props.soloActivos}\r\n              resaltadoFiltro={props.resaltadoFiltro}\r\n              nominado />\r\n          </Paper>\r\n          : null\r\n        }\r\n      </div>\r\n      </div>\r\n\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* PC */}\r\n      <Hidden only=\"xs\">{contenido(false)}</Hidden>\r\n\r\n      {/* CELULAR */}\r\n      <Hidden smUp>{contenido(true)}</Hidden>\r\n    </div> \r\n  );\r\n}\r\n\r\nexport default Incidencia;"]},"metadata":{},"sourceType":"module"}