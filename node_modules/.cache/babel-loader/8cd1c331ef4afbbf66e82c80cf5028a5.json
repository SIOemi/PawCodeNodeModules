{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\d896422\\\\Documents\\\\hello\\\\paw_code\\\\src\\\\components\\\\discoTrabajo\\\\acciones\\\\extraviado.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { DialogActions, DialogContent, DialogTitle, Dialog, TextField, Hidden, Box, MenuItem, makeStyles } from '@material-ui/core';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport SwapVertOutlinedIcon from '@material-ui/icons/SwapVertOutlined';\nimport JefesDeTrabajoSelect from '../../inputs/jefesDeTrabajoSelect';\nimport { serviciosGEMA_update } from '../../../servicios/servicios';\nimport { AppContext } from '../../../appProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  burbuja: {\n    backgroundColor: '#80808029',\n    padding: 3,\n    borderRadius: 10,\n    fontWeight: 400\n  }\n}));\n\nconst Extraviado = props => {\n  _s();\n\n  const classes = useStyles();\n  const [state] = React.useContext(AppContext);\n  const [jefeDeTrabajosCI, setSelectedJT_ci] = React.useState(\"\");\n  const [numeroDisco, setNumeroDisco] = React.useState(\"\");\n\n  const validarNumero = valor => {\n    setNumeroDisco(valor.toUpperCase());\n    setValido(valor.length > 0 && valor.length < 8 && valor.match(/^[0-9a-zA-Z]+$/));\n  };\n\n  const [valido, setValido] = React.useState(false);\n  const [sustituirJT, setSustituirJT] = React.useState(false);\n\n  const submitSustituirJT = () => {\n    const body = {\n      changeby: state.ci,\n      sustituirjt: 1,\n      jefetrabajo: jefeDeTrabajosCI,\n      np_statusmemo: \"Contingencia: Sustitucion automatica de jefe de trabajo por extravío de disco.\",\n      action: 'Change'\n    };\n    serviciosGEMA_update.post('/utd_nardisdisco/' + props.idDT + '?lean=1', body).then(response => {\n      submit(false);\n    }).catch(error => alert(\"No se pudo sustituir el jefe de trabajos.\\nActualice la lista de discos y compruebe que el disco se encuentre colocado.\"));\n  };\n\n  const submit = sustituirJTS => {\n    if (sustituirJTS) submitSustituirJT();else {\n      const body = {\n        changeby: state.ci,\n        extraviado: 1,\n        nrodisco: numeroDisco,\n        np_statusmemo: \"Contingencia: Disco \" + props.numeroDT + \" sustituido por \" + numeroDisco,\n        action: 'Change'\n      };\n      serviciosGEMA_update.post('/utd_nardisdisco/' + props.idDT + '?lean=1', body).then(response => props.setRenderList(true)).catch(error => alert(\"No se pudo sustituir.\"));\n      limpiarForm();\n      props.close();\n    }\n  };\n\n  const limpiarForm = () => {\n    setNumeroDisco(\"\");\n    setSustituirJT(false);\n  };\n\n  const cerrar = () => {\n    limpiarForm();\n    props.close();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      open: props.open,\n      onClose: cerrar,\n      \"aria-labelledby\": \"form-dialog-title\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          flexDirection: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" Sustituir disco\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 16,\n              fontWeight: 200\n            },\n            children: [\"Registro en contingencia de sustituci\\xF3n por extrav\\xEDo del \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.burbuja,\n              children: [\" Disco \", props.numeroDT]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 86\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          style: {\n            width: \"100%\"\n          },\n          value: sustituirJT,\n          onChange: e => setSustituirJT(e.target.value),\n          variant: \"outlined\",\n          label: \"Acci\\xF3n\",\n          select: true,\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: false,\n            children: [\"Sustituir disco en nombre de \", props.encargado]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: true,\n            children: \"Sustituir disco en nombre de otro jefe de trabajos.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(Hidden, {\n            only: \"xs\",\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"left\",\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: \"\",\n                  src: \"/PAW/assets/images/colocadoIcon.svg\",\n                  style: {\n                    height: 40,\n                    width: 40,\n                    marginRight: 10,\n                    marginTop: 5\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                id: \"numero\",\n                inputProps: {\n                  style: {\n                    fontSize: 'large',\n                    fontWeight: 900,\n                    textTransform: 'uppercase'\n                  }\n                },\n                variant: \"outlined\",\n                type: \"text\",\n                fullWidth: true,\n                label: \"N\\xFAmero\",\n                value: numeroDisco,\n                onChange: e => validarNumero(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Hidden, {\n            smUp: true,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"numero\",\n              inputProps: {\n                style: {\n                  fontSize: 'large',\n                  fontWeight: 900,\n                  textTransform: 'uppercase'\n                }\n              },\n              variant: \"outlined\",\n              type: \"text\",\n              fullWidth: true,\n              label: \"N\\xFAmero\",\n              value: numeroDisco,\n              onChange: e => validarNumero(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), sustituirJT && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(JefesDeTrabajoSelect, {\n            close: cerrar,\n            setSelectedJT_ci: setSelectedJT_ci,\n            unidad: props.unidad\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }, this), sustituirJT && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n            children: \"Informaci\\xF3n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 29\n          }, this), \"Primero se realizar\\xE1 la sustituci\\xF3n del jefe de trabajos y luego de la sustituci\\xF3n del disco.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: cerrar,\n          color: \"default\",\n          children: \"Cerrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => submit(sustituirJT),\n          variant: \"outlined\",\n          color: \"default\",\n          startIcon: /*#__PURE__*/_jsxDEV(SwapVertOutlinedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 36\n          }, this),\n          disabled: !valido || valido && sustituirJT && !jefeDeTrabajosCI,\n          children: \"Sustituir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Extraviado, \"kNG2esaGE264fOzCrTC+FAHHThE=\", false, function () {\n  return [useStyles];\n});\n\n_c = Extraviado;\nexport default Extraviado;\n\nvar _c;\n\n$RefreshReg$(_c, \"Extraviado\");","map":{"version":3,"sources":["C:/Users/d896422/Documents/hello/paw_code/src/components/discoTrabajo/acciones/extraviado.js"],"names":["React","Button","DialogActions","DialogContent","DialogTitle","Dialog","TextField","Hidden","Box","MenuItem","makeStyles","Alert","AlertTitle","SwapVertOutlinedIcon","JefesDeTrabajoSelect","serviciosGEMA_update","AppContext","useStyles","theme","burbuja","backgroundColor","padding","borderRadius","fontWeight","Extraviado","props","classes","state","useContext","jefeDeTrabajosCI","setSelectedJT_ci","useState","numeroDisco","setNumeroDisco","validarNumero","valor","toUpperCase","setValido","length","match","valido","sustituirJT","setSustituirJT","submitSustituirJT","body","changeby","ci","sustituirjt","jefetrabajo","np_statusmemo","action","post","idDT","then","response","submit","catch","error","alert","sustituirJTS","extraviado","nrodisco","numeroDT","setRenderList","limpiarForm","close","cerrar","open","fontSize","width","e","target","value","encargado","marginTop","height","marginRight","style","textTransform","unidad"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport {DialogActions,\r\n        DialogContent,\r\n        DialogTitle,\r\n        Dialog,\r\n        TextField,\r\n        Hidden,\r\n        Box,\r\n        MenuItem,\r\n        makeStyles\r\n}from '@material-ui/core';\r\nimport {Alert, AlertTitle} from '@material-ui/lab';\r\nimport SwapVertOutlinedIcon from '@material-ui/icons/SwapVertOutlined';\r\nimport JefesDeTrabajoSelect from '../../inputs/jefesDeTrabajoSelect';\r\n\r\nimport { serviciosGEMA_update } from '../../../servicios/servicios';\r\nimport { AppContext } from '../../../appProvider';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    burbuja: {\r\n        backgroundColor: '#80808029', \r\n        padding: 3, \r\n        borderRadius: 10,\r\n        fontWeight: 400,\r\n    }\r\n}))\r\n\r\nconst Extraviado = (props) => {\r\n    \r\n    const classes = useStyles();\r\n    const [state] = React.useContext(AppContext);\r\n    const [jefeDeTrabajosCI, setSelectedJT_ci] = React.useState(\"\");\r\n\r\n    const [numeroDisco,setNumeroDisco] = React.useState(\"\");\r\n    const validarNumero = (valor) => {\r\n        setNumeroDisco(valor.toUpperCase());\r\n        setValido(valor.length>0 && valor.length<8 && valor.match(/^[0-9a-zA-Z]+$/) );\r\n    }\r\n\r\n\r\n    const [valido,setValido] = React.useState(false);\r\n\r\n    const [sustituirJT, setSustituirJT] = React.useState(false);\r\n\r\n    const submitSustituirJT  = () =>{\r\n            const body = {\r\n                changeby: state.ci,\r\n                sustituirjt: 1,\r\n                jefetrabajo: jefeDeTrabajosCI,\r\n                np_statusmemo: \"Contingencia: Sustitucion automatica de jefe de trabajo por extravío de disco.\",\r\n                action: 'Change'\r\n            }\r\n            serviciosGEMA_update.post('/utd_nardisdisco/'+props.idDT+'?lean=1',body)\r\n            .then(response => {\r\n                submit(false);\r\n            } )\r\n            .catch(error =>alert(\"No se pudo sustituir el jefe de trabajos.\\nActualice la lista de discos y compruebe que el disco se encuentre colocado.\"));\r\n        }\r\n    \r\n    \r\n    const submit = (sustituirJTS) =>{\r\n    \r\n    if (sustituirJTS)\r\n        submitSustituirJT()\r\n    else{\r\n       const body = {\r\n            changeby: state.ci,\r\n            extraviado: 1,\r\n            nrodisco: numeroDisco,\r\n            np_statusmemo: \"Contingencia: Disco \" + props.numeroDT + \" sustituido por \" + numeroDisco,\r\n            action: 'Change'\r\n        }\r\n        serviciosGEMA_update.post('/utd_nardisdisco/'+props.idDT+'?lean=1',body)\r\n        .then(response =>  props.setRenderList(true))\r\n        .catch(error =>alert(\"No se pudo sustituir.\"));\r\n        limpiarForm();\r\n        props.close();\r\n    }\r\n    }\r\n\r\n\r\n\r\n    const limpiarForm = () =>{\r\n        setNumeroDisco(\"\");\r\n        setSustituirJT(false);\r\n    }\r\n\r\n    const cerrar = () => {\r\n        limpiarForm();\r\n        props.close()\r\n    }\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <Dialog \r\n                open={props.open} \r\n                onClose={cerrar} \r\n                aria-labelledby=\"form-dialog-title\"\r\n                fullWidth={true}>\r\n                <DialogTitle id=\"form-dialog-title\"> \r\n                    <Box display=\"flex\" flexDirection=\"column\">\r\n                        <span> Sustituir disco</span>\r\n                        <span style={{fontSize: 16, fontWeight: 200}}>\r\n                            Registro en contingencia de sustitución por extravío del <span className={classes.burbuja}> Disco {props.numeroDT}</span>\r\n                        </span>\r\n                    </Box>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                   \r\n                    <TextField\r\n                        style={{width: \"100%\"}}\r\n                        value={sustituirJT}\r\n                        onChange={e=>setSustituirJT(e.target.value)}\r\n                        variant=\"outlined\"\r\n                        label=\"Acción\"\r\n                        select\r\n                        >\r\n                        <MenuItem value={false}>Sustituir disco en nombre de {props.encargado}</MenuItem>\r\n                        <MenuItem value={true}>Sustituir disco en nombre de otro jefe de trabajos.</MenuItem>\r\n                    </TextField>\r\n\r\n                    <div style={{marginTop: 20}}>\r\n                <Hidden only=\"xs\">\r\n                    <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"left\">\r\n                    <Box>\r\n                        <img\r\n                        alt=\"\"\r\n                        src=\"/PAW/assets/images/colocadoIcon.svg\"\r\n                        style={{ height: 40, width: 40, marginRight: 10, marginTop: 5}}\r\n                        />\r\n                    </Box>\r\n                    <TextField\r\n                            id=\"numero\"\r\n                            inputProps={{style: {fontSize: 'large', fontWeight: 900,  textTransform: 'uppercase'}}} \r\n                            variant= \"outlined\"\r\n                            type=\"text\"\r\n                            fullWidth\r\n                            label=\"Número\"\r\n                            value={numeroDisco}\r\n                            onChange={(e)=>validarNumero(e.target.value)}\r\n                        />  \r\n                    </Box>\r\n                </Hidden>\r\n                <Hidden smUp>\r\n                <TextField\r\n                            id=\"numero\"\r\n                            inputProps={{style: {fontSize: 'large', fontWeight: 900,  textTransform: 'uppercase'}}} \r\n                            variant= \"outlined\"\r\n                            type=\"text\"\r\n                            fullWidth\r\n                            label=\"Número\"\r\n                            value={numeroDisco}\r\n                            onChange={(e)=>validarNumero(e.target.value)}\r\n                        />  \r\n                </Hidden>\r\n                </div>\r\n\r\n               \r\n                   {sustituirJT && \r\n                        <div style={{marginTop: 20}}>\r\n                            <JefesDeTrabajoSelect \r\n                                close={cerrar}\r\n                                setSelectedJT_ci={setSelectedJT_ci}\r\n                                unidad={props.unidad}\r\n                            />\r\n                        </div>\r\n                    }\r\n\r\n                {sustituirJT && \r\n                        <Alert severity=\"info\" style={{marginTop: 20}}>\r\n                            <AlertTitle>Información:</AlertTitle>\r\n                            Primero se realizará la sustitución del jefe de trabajos y luego de la sustitución del disco.\r\n                        </Alert>\r\n                    }\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button \r\n                        onClick={cerrar} \r\n                        color=\"default\" >\r\n                        Cerrar\r\n                    </Button>\r\n                    <Button\r\n                        onClick={()=>submit(sustituirJT)}\r\n                        variant=\"outlined\"\r\n                        color=\"default\"\r\n                        startIcon={<SwapVertOutlinedIcon />}\r\n                        disabled={!valido || (valido && sustituirJT && !jefeDeTrabajosCI)}>\r\n                        Sustituir\r\n                     </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Extraviado;"]},"metadata":{},"sourceType":"module"}